<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reaper Casino - –†—É–ª–µ—Ç–∫–∞</title>
<style>
body {
    margin:0;
    font-family:"Segoe UI",Arial,sans-serif;
    background: linear-gradient(90deg,#0b0c10,#1f2833);
    color:white;
}

.topBar {
    position: fixed;
    top: 15px;
    right: 15px;
    display: flex;
    gap: 15px;
    background: rgba(0,0,0,0.5);
    padding: 8px 12px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    z-index: 2000;
}

.balanceDisplay {
    padding:6px 12px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    color:white;
    font-weight:bold;
    font-size:1.1em;
}

.profileTab {
    padding:6px 12px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    color:white;
    font-weight:bold;
    cursor:pointer;
    transition:0.2s;
}
.profileTab:hover { background: rgba(255,255,255,0.3); }

#addFundsBtn {
    position:fixed;
    right:15px;
    bottom:15px;
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:#28a745;
    color:white;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 3px 10px rgba(0,0,0,0.4);
    transition:0.2s;
}
#addFundsBtn:hover { background:#1e7e34; }

header {
    padding:15px;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:10px;
}

.navLinks {
    display:flex;
    flex-direction:column;
    gap:6px;
}

.navLinks a {
    display:block;
    padding:6px 12px;
    border-radius:8px;
    background:#555;
    color:white;
    text-decoration:none;
    font-weight:bold;
    text-align:center;
    font-size:1.8em;
    transition:0.2s;
}

.navLinks a:hover { background:#777; }

.balanceDisplay {
    padding:6px 12px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    color:white;
    font-weight:bold;
    font-size:1.2em;
    text-align:center;
}

.container {
    max-width:700px;
    margin:80px auto 30px auto;
    background: rgba(0,0,0,0.5);
    padding:20px;
    border-radius:15px;
    box-shadow:0 5px 15px rgba(0,0,0,0.6);
    text-align:center;
}

input, button {
    font-size:1em;
    padding:10px;
    border-radius:10px;
    border:none;
    margin:5px;
}

button {
    cursor:pointer;
    background:#555;
    color:white;
    font-weight:bold;
    transition:0.2s;
    box-shadow:0 3px 10px rgba(0,0,0,0.4);
}
button:hover { background:#777; }

#rouletteWinText {
    margin-top:10px;
    font-size:1.2em;
    font-weight:bold;
}

.rouletteHistoryStrip {
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:8px;
    margin-top:20px;
}

.historyCard {
    width:50px;
    height:50px;
    border-radius:10px;
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:bold;
    color:white;
    font-size:18px;
    box-shadow:0 3px 8px rgba(0,0,0,0.5);
    transition:0.2s;
}

.red { background:#e53935; }
.black { background:#222; }
.green { background:#28a745; }
.yellow { background: #f1c40f !important; color:black; }

.welcome {
    text-align:center;
    font-size:48px;
    font-weight:bold;
    color:#ff4b2b;
    text-shadow: 2px 2px 15px rgba(255,75,43,0.6), 0 0 20px rgba(255,75,43,0.4);
}
.welcome span {
    color:#ffb347;
    text-shadow: 2px 2px 20px rgba(255,179,71,0.5);
}

.navBalanceWrapper {
    display:flex;
    width:100%;
    justify-content:space-between;
    align-items:flex-start;
    flex-wrap:wrap;
}

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ ‚Äî –∫–∞–∫ –≤ –ø–æ–∫–µ—Ä–µ */
.profileModal {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.8);
    justify-content:center;
    align-items:center;
    z-index:2000;
}

.profileContent {
    background:#1f2833;
    padding:30px;
    border-radius:15px;
    color:white;
    width:340px;
    max-width:90%;
    text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,0.7);
    position:relative;
}

.profileContent h2 { margin-bottom:20px; }
.profileContent p { margin:8px 0; }

.profileContent button {
    margin-top:20px;
    padding:12px 30px;
    background:#28a745;
    color:white;
    border:none;
    border-radius:10px;
    font-weight:bold;
    cursor:pointer;
}

.closeProfile {
    position:absolute;
    top:12px;
    right:18px;
    font-size:28px;
    color:#ff4b2b;
    cursor:pointer;
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media screen and (max-width:768px){
    .container { width:90%; padding:15px; margin-top:100px; }
    .historyCard { width:45px; height:45px; font-size:16px; }
    input, button { font-size:0.9em; padding:8px; }
    .welcome { font-size:36px; }
}

@media screen and (max-width:480px){
    .historyCard { width:40px; height:40px; font-size:14px; }
    .welcome { font-size:28px; }
}
</style>
</head>
<body>

<div class="topBar">
    <div class="balanceDisplay">–ë–∞–ª–∞–Ω—Å: <span id="rouletteBalance">10000</span></div>
    <div class="profileTab" onclick="toggleProfile()">–ü—Ä–æ—Ñ–∏–ª—å üìä</div>
</div>

<header>
    <div class="welcome">Reaper<span> Casino</span></div>
    <div class="navBalanceWrapper">
        <div class="navLinks">
            <a href="blackjack.html">üÇ° Blackjack</a>
            <a href="poker.html">üÉè –ü–æ–∫–µ—Ä</a>
            <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        </div>
    </div>
</header>

<div class="container">
    <input type="number" id="rouletteNumber" placeholder="–ß–∏—Å–ª–æ 0-36">
    <input type="number" id="rouletteBet" placeholder="–°—Ç–∞–≤–∫–∞">
    <button onclick="playRoulette()">–ö—Ä—É—Ç–∏—Ç—å</button>
    
    <p id="rouletteWinText"></p>
    <div class="rouletteHistoryStrip" id="rouletteHistory"></div>
</div>

<button id="addFundsBtn">+10000</button>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div id="profileModal" class="profileModal">
    <div class="profileContent">
        <span class="closeProfile" onclick="toggleProfile()">‚úñ</span>
        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –†—É–ª–µ—Ç–∫–µ</h2>
        <p>–í—Å–µ–≥–æ —Å–ø–∏–Ω–æ–≤: <span id="statGames">0</span></p>
        <p>–í—ã–∏–≥—Ä—ã—à–µ–π: <span id="statWins">0</span></p>
        <p>–ü—Ä–æ–∏–≥—Ä—ã—à–µ–π: <span id="statLosses">0</span></p>
        <p>–°—É–º–º–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π: <span id="statTotalWin">0</span></p>
        <p>–°—É–º–º–∞ –ø—Ä–æ–∏–≥—Ä—ã—à–µ–π: <span id="statTotalLoss">0</span></p>
        <button onclick="resetStats()">–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    </div>
</div>

<script>
// –û–±—â–∏–π –±–∞–ª–∞–Ω—Å
let balance = localStorage.getItem("casinoBalance") 
    ? parseInt(localStorage.getItem("casinoBalance")) 
    : 10000;

function updateBalance() {
    document.getElementById("rouletteBalance").innerText = balance;
    localStorage.setItem("casinoBalance", balance);
}

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä—É–ª–µ—Ç–∫–∏
let rouletteStats = localStorage.getItem("rouletteStats") 
    ? JSON.parse(localStorage.getItem("rouletteStats")) 
    : {games:0, wins:0, losses:0, totalWin:0, totalLoss:0};

function toggleProfile() {
    const modal = document.getElementById("profileModal");
    modal.style.display = modal.style.display === "flex" ? "none" : "flex";
    if (modal.style.display === "flex") {
        document.getElementById("statGames").innerText = rouletteStats.games;
        document.getElementById("statWins").innerText = rouletteStats.wins;
        document.getElementById("statLosses").innerText = rouletteStats.losses;
        document.getElementById("statTotalWin").innerText = rouletteStats.totalWin;
        document.getElementById("statTotalLoss").innerText = rouletteStats.totalLoss;
    }
}

function resetStats() {
    if (!confirm("–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä—É–ª–µ—Ç–∫–∏?")) return;
    rouletteStats = {games:0, wins:0, losses:0, totalWin:0, totalLoss:0};
    localStorage.setItem("rouletteStats", JSON.stringify(rouletteStats));
    toggleProfile();
}

// –ö–Ω–æ–ø–∫–∞ +10000
document.getElementById("addFundsBtn").onclick = () => { 
    balance += 10000; 
    updateBalance(); 
};

let lastNumbers = [];

const rouletteHistory = document.getElementById("rouletteHistory");
const rouletteWinText = document.getElementById("rouletteWinText");
const rouletteNumberInput = document.getElementById("rouletteNumber");
const rouletteBetInput = document.getElementById("rouletteBet");

function getColor(num){ 
    if(num===0) return "green"; 
    const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
    return redNumbers.includes(num) ? "red" : "black"; 
}

function updateRouletteHistory(userNum){
    rouletteHistory.innerHTML="";
    const recent = lastNumbers.slice(-10);
    recent.forEach(num=>{
        const div=document.createElement("div");
        let colorClass = getColor(num);
        if(num===userNum) colorClass="yellow";
        div.className="historyCard " + colorClass;
        div.innerText = num;
        rouletteHistory.appendChild(div);
    });
}

function playRoulette(){
    const num = parseInt(rouletteNumberInput.value);
    const bet = parseInt(rouletteBetInput.value);
    rouletteWinText.innerText="";

    if(isNaN(num) || num<0 || num>36){ alert("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 0-36"); return; }
    if(isNaN(bet) || bet<=0){ alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞–≤–∫—É"); return; }
    if(bet > balance){ alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤"); return; }

    balance -= bet;
    rouletteStats.totalLoss += bet;
    rouletteStats.games += 1;
    updateBalance();

    const result = Math.floor(Math.random()*37);
    lastNumbers.push(result);

    updateRouletteHistory(num);

    if(result === num){
        const win = bet * 36;
        balance += win;
        rouletteStats.wins += 1;
        rouletteStats.totalWin += win;
        updateBalance();
        rouletteWinText.innerText = `üéâ –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${win}`;
        rouletteWinText.style.color = "#28a745";
    } else {
        rouletteStats.losses += 1;
        rouletteWinText.innerText = `üíÄ –í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏: ${bet}`;
        rouletteWinText.style.color = "#e53935";
    }

    localStorage.setItem("rouletteStats", JSON.stringify(rouletteStats));
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
updateBalance();
updateRouletteHistory();
</script>

</body>
</html>
