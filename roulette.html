<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Reaper Casino - –†—É–ª–µ—Ç–∫–∞</title>
<style>
body {
    margin:0;
    font-family:"Segoe UI",Arial,sans-serif;
    background: linear-gradient(135deg,#0b0c10,#1f2833);
    color:white;
    min-height:100vh;
}

.topBar {
    position: fixed;
    top: 15px;
    right: 15px;
    display: flex;
    gap: 15px;
    background: rgba(0,0,0,0.5);
    padding: 8px 12px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    z-index: 2000;
}

.balanceDisplay {
    padding:8px 16px;
    border-radius:12px;
    background: rgba(255,255,255,0.12);
    color:white;
    font-weight:bold;
    font-size:1.1em;
}

.profileTab {
    padding:8px 16px;
    border-radius:12px;
    background: rgba(255,255,255,0.12);
    color:white;
    font-weight:bold;
    cursor:pointer;
    transition:0.2s;
}
.profileTab:hover { background: rgba(255,255,255,0.25); }

#addFundsBtn {
    position:fixed;
    right:15px;
    bottom:15px;
    padding:10px 20px;
    border:none;
    border-radius:10px;
    background:#28a745;
    color:white;
    font-weight:bold;
    cursor:pointer;
    z-index: 2000;
}

header {
    padding:80px 15px 20px;
    text-align:center;
}

.welcome {
    font-size:64px;
    font-weight:900;
    background: linear-gradient(90deg, #ff4b2b, #ffb347);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    text-shadow: 0 0 30px rgba(255,75,43,0.5);
    margin:0;
}

/* –°—Å—ã–ª–∫–∏ ‚Äî –∫–∞–∫ –≤ —Å–∞–º–æ–º –ø–µ—Ä–≤–æ–º –≤–∞—Ä–∏–∞–Ω—Ç–µ */
.navLinks {
    width: 180px;
    flex-shrink: 0;
    margin-top: 120px; /* –æ–ø—É—â–µ–Ω—ã –Ω–∏–∂–µ */
}

.navLinks a {
    display:block;
    padding:12px 16px;
    margin-bottom:10px;
    border-radius:10px;
    background:#444;
    color:white;
    text-decoration:none;
    font-weight:bold;
    font-size:1.1em;
    text-align:center;
    transition:0.2s;
}

.navLinks a:hover {
    background:#666;
    transform: translateX(4px);
}

.main-container {
    display:flex;
    max-width:1400px;
    margin:0 auto;
    padding:0 15px;
    gap:25px;
    flex-wrap:wrap;
}

.game-wrapper {
    flex:3;
    background:rgba(0,0,0,0.5);
    padding:25px;
    border-radius:15px;
    box-shadow:0 5px 15px rgba(0,0,0,0.6);
    min-width:320px;
    backdrop-filter: blur(8px);
    border:1px solid rgba(255,255,255,0.08);
}

.container {
    text-align:center;
    height: 300px;
    margin-top: 50px;
}

input, button {
    font-size:1.1em;
    padding:12px 20px;
    border-radius:12px;
    border:none;
    margin:8px;
    transition:0.2s;
}

input[type="number"] {
    background:#1a1a1a;
    color:white;
    border:2px solid #444;
    width:160px;
}

button {
    background: linear-gradient(90deg, #ff4b2b, #e03e20);
    color:white;
    font-weight:bold;
    cursor:pointer;
    box-shadow:0 4px 12px rgba(255,75,43,0.3);
}

button:hover {
    transform: scale(1.05);
    box-shadow:0 8px 20px rgba(255,75,43,0.5);
}

#rouletteWinText {
    margin:20px 0;
    font-size:1.6em;
    font-weight:bold;
    min-height:40px;
    opacity:0;
    transform:translateY(20px);
    transition:all 0.6s ease;
}

#rouletteWinText.show {
    opacity:1;
    transform:translateY(0);
}

.rouletteHistoryStrip {
    display:flex;
    justify-content:center;
    flex-wrap:wrap;
    gap:12px;
    margin-top:30px;
}

.historyCard {
    width:60px;
    height:60px;
    border-radius:50%;
    display:flex;
    justify-content:center;
    align-items:center;
    font-weight:bold;
    color:white;
    font-size:1.4em;
    box-shadow:0 6px 15px rgba(0,0,0,0.6);
    transition:all 0.3s ease;
    opacity:0;
    transform:scale(0.8);
}

.historyCard.show {
    opacity:1;
    transform:scale(1);
}

.red { background:#e53935; }
.black { background:#222; }
.green { background:#28a745; }
.yellow { background:#f1c40f; color:#000; }

/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ */
.profileModal {
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.85);
    justify-content:center;
    align-items:center;
    z-index:2000;
}

.profileContent {
    background:#1f2833;
    padding:35px;
    border-radius:16px;
    color:white;
    width:380px;
    max-width:90%;
    text-align:center;
    box-shadow:0 15px 40px rgba(0,0,0,0.8);
    position:relative;
}

.profileContent h2 { margin-bottom:25px; color:#ffb347; }

.profileContent p {
    font-size:1.1em;
    margin:12px 0;
    display:flex;
    justify-content:space-between;
}

.profileContent .value {
    font-weight:bold;
    color:#fff;
}

.closeProfile {
    position:absolute;
    top:15px;
    right:20px;
    font-size:32px;
    color:#ff4b2b;
    cursor:pointer;
}

.resetStatsBtn {
    margin-top:25px;
    padding:12px 30px;
    background:#28a745;
    color:white;
    border:none;
    border-radius:10px;
    font-weight:bold;
    cursor:pointer;
}

.resetStatsBtn:hover { background:#1e7e34; }

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width:1024px) {
    .main-container { flex-direction:column; align-items:center; }
    .navLinks { 
        width: 100%; 
        max-width: 400px; 
        margin-top: 100px; 
        display: flex; 
        justify-content: center; 
        flex-wrap: wrap; 
        gap: 12px; 
    }
    .navLinks a { 
        width: auto; 
        padding: 12px 24px; 
        flex: 1 1 120px; 
        max-width: 180px; 
    }
}

@media (max-width:768px) {
    .welcome { font-size:48px; }
    .historyCard { width:50px; height:50px; font-size:1.2em; }
    input, button { font-size:1em; padding:10px 16px; }
}
</style>
</head>
<body>

<div class="topBar">
    <div class="balanceDisplay">–ë–∞–ª–∞–Ω—Å: <span id="rouletteBalance">10000</span></div>
    <div class="profileTab" onclick="toggleProfile()">–ü—Ä–æ—Ñ–∏–ª—å üìä</div>
</div>

<div class="main-container">
    <div class="navLinks">
        <a href="blackjack.html">üÇ° Blackjack</a>
        <a href="poker.html">üÉè –ü–æ–∫–µ—Ä</a>
        <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    </div>

    <div class="game-wrapper">
        <header>
            <div class="welcome">Reaper<span> Casino</span></div>
        </header>

        <div class="container">
            <input type="number" id="rouletteNumber" placeholder="–ß–∏—Å–ª–æ 0-36">
            <input type="number" id="rouletteBet" placeholder="–°—Ç–∞–≤–∫–∞">
            <button onclick="playRoulette()">–ö—Ä—É—Ç–∏—Ç—å</button>
            
            <p id="rouletteWinText"></p>
            <div class="rouletteHistoryStrip" id="rouletteHistory"></div>
        </div>
    </div>
</div>

<button id="addFundsBtn">+10000</button>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ -->
<div id="profileModal" class="profileModal">
    <div class="profileContent">
        <span class="closeProfile" onclick="toggleProfile()">‚úñ</span>
        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ –†—É–ª–µ—Ç–∫–µ</h2>
        <p>–í—Å–µ–≥–æ —Å–ø–∏–Ω–æ–≤: <span id="statGames">0</span></p>
        <p>–í—ã–∏–≥—Ä—ã—à–µ–π: <span id="statWins">0</span></p>
        <p>–ü—Ä–æ–∏–≥—Ä—ã—à–µ–π: <span id="statLosses">0</span></p>
        <p>–°—É–º–º–∞ –≤—ã–∏–≥—Ä—ã—à–µ–π: <span id="statTotalWin">0</span></p>
        <p>–°—É–º–º–∞ –ø—Ä–æ–∏–≥—Ä—ã—à–µ–π: <span id="statTotalLoss">0</span></p>
        <button class="resetStatsBtn" onclick="resetStats()">–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    </div>
</div>

<script>
// –û–±—â–∏–π –±–∞–ª–∞–Ω—Å
let balance = localStorage.getItem("casinoBalance") 
    ? parseInt(localStorage.getItem("casinoBalance")) 
    : 10000;

function updateBalance() {
    document.getElementById("rouletteBalance").innerText = balance.toLocaleString('ru-RU');
    localStorage.setItem("casinoBalance", balance);
}

window.addEventListener('storage', (e) => {
    if (e.key === "casinoBalance") {
        balance = e.newValue ? parseInt(e.newValue) : 10000;
        updateBalance();
    }
});

updateBalance();

document.getElementById("addFundsBtn").onclick = () => { 
    balance += 10000; 
    updateBalance(); 
};

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
let rouletteStats = localStorage.getItem("rouletteStats") 
    ? JSON.parse(localStorage.getItem("rouletteStats")) 
    : {games:0, wins:0, losses:0, totalWin:0, totalLoss:0};

function toggleProfile() {
    const modal = document.getElementById("profileModal");
    modal.style.display = modal.style.display === "flex" ? "none" : "flex";
    if (modal.style.display === "flex") {
        document.getElementById("statGames").innerText = rouletteStats.games;
        document.getElementById("statWins").innerText = rouletteStats.wins;
        document.getElementById("statLosses").innerText = rouletteStats.losses;
        document.getElementById("statTotalWin").innerText = rouletteStats.totalWin;
        document.getElementById("statTotalLoss").innerText = rouletteStats.totalLoss;
    }
}

function resetStats() {
    if (!confirm("–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É —Ä—É–ª–µ—Ç–∫–∏?")) return;
    rouletteStats = {games:0, wins:0, losses:0, totalWin:0, totalLoss:0};
    localStorage.setItem("rouletteStats", JSON.stringify(rouletteStats));
    toggleProfile();
}

let lastNumbers = [];

const rouletteHistory = document.getElementById("rouletteHistory");
const rouletteWinText = document.getElementById("rouletteWinText");
const rouletteNumberInput = document.getElementById("rouletteNumber");
const rouletteBetInput = document.getElementById("rouletteBet");

function getColor(num){ 
    if(num===0) return "green"; 
    const redNumbers = [1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];
    return redNumbers.includes(num) ? "red" : "black"; 
}

function updateRouletteHistory(userNum){
    rouletteHistory.innerHTML = "";
    const recent = lastNumbers.slice(-10);
    recent.forEach((num, index) => {
        const div = document.createElement("div");
        let colorClass = getColor(num);
        if(num===userNum) colorClass="yellow";
        div.className = "historyCard " + colorClass;
        div.innerText = num;
        div.style.animationDelay = `${index * 0.08}s`;
        rouletteHistory.appendChild(div);
        setTimeout(() => div.classList.add("show"), 50);
    });
}

function playRoulette(){
    const num = parseInt(rouletteNumberInput.value);
    const bet = parseInt(rouletteBetInput.value);
    rouletteWinText.innerText = "";
    rouletteWinText.classList.remove("show");

    if(isNaN(num) || num<0 || num>36){ alert("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ 0-36"); return; }
    if(isNaN(bet) || bet<=0){ alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞–≤–∫—É"); return; }
    if(bet > balance){ alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤"); return; }

    balance -= bet;
    rouletteStats.totalLoss += bet;
    rouletteStats.games += 1;
    updateBalance();

    const result = Math.floor(Math.random()*37);
    lastNumbers.push(result);

    updateRouletteHistory(num);

    setTimeout(() => {
        if(result === num){
            const win = Math.round(bet * 36.6); // 36.6 √ó —Å—Ç–∞–≤–∫–∞
            balance += win;
            rouletteStats.wins += 1;
            rouletteStats.totalWin += win;
            updateBalance();
            rouletteWinText.innerText = `üéâ –í–´–ò–ì–†–´–® +${win}`;
            rouletteWinText.style.color = "#28a745";
        } else {
            rouletteStats.losses += 1;
            rouletteWinText.innerText = `üíÄ –ü—Ä–æ–∏–≥—Ä—ã—à -${bet}`;
            rouletteWinText.style.color = "#e53935";
        }
        rouletteWinText.classList.add("show");
    }, 300);

    localStorage.setItem("rouletteStats", JSON.stringify(rouletteStats));
}

updateRouletteHistory();
</script>
</body>
</html>
