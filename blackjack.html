<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Reaper Casino - Blackjack</title>
<style>
body {
    margin:0;
    font-family:"Segoe UI",Arial,sans-serif;
    background: linear-gradient(135deg,#0b0c10,#1f2833);
    color:white;
    min-height:100vh;
}

.topBar {
    position: fixed;
    top: 15px;
    right: 15px;
    display: flex;
    gap: 15px;
    background: rgba(0,0,0,0.5);
    padding: 8px 12px;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    z-index: 2000;
}

.balanceDisplay {
    padding:6px 12px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    color:white;
    font-weight:bold;
    font-size:1.1em;
}

.profileTab {
    padding:6px 12px;
    border-radius:10px;
    background: rgba(255,255,255,0.15);
    color:white;
    font-weight:bold;
    cursor:pointer;
    transition:0.2s;
}
.profileTab:hover { background: rgba(255,255,255,0.3); }

header {
    padding:80px 15px 20px;
    text-align:center;
}

.welcome {
    font-size:48px;
    font-weight:bold;
    color:#ff4b2b;
    text-shadow: 2px 2px 15px rgba(255,75,43,0.6);
}
.welcome span { color:#ffb347; }

.main-container {
    display: flex;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 15px;
    gap: 25px;
    flex-wrap: wrap;
}

.sidebar {
    width: 180px;
    flex-shrink: 0;
}

.sidebar a {
    display: block;
    padding: 12px 16px;
    margin-bottom: 10px;
    border-radius: 10px;
    background: #444;
    color: white;
    text-decoration: none;
    font-weight: bold;
    font-size: 1.1em;
    text-align: center;
    transition: 0.2s;
}

.sidebar a:hover {
    background: #666;
    transform: translateX(4px);
}

.topWrapper {
    display: flex;
    gap: 25px;
    flex: 1;
    flex-wrap: wrap;
    min-width: 0;
}

.game-wrapper {
    flex: 3;
    background: rgba(0,0,0,0.5);
    padding: 25px;
    border-radius: 15px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.6);
    min-width: 320px;
}

.bonusTable {
    flex: 1;
    min-width: 280px;
    max-width: 380px;
    background: rgba(255,255,255,0.06);
    border-radius: 12px;
    padding: 16px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
    height: fit-content;
}

.bonusTable h3 {
    text-align: center;
    color: #ffb347;
    margin: 0 0 12px 0;
    font-size: 1.35em;
}

.bonusTable table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.95em;
}

.bonusTable th, .bonusTable td {
    border: 1px solid rgba(255,255,255,0.12);
    padding: 9px 12px;
    text-align: center;
}

.bonusTable th {
    background: rgba(255,215,0,0.08);
    color: #ffd700;
    font-weight: bold;
}

.bonusTable td {
    color: #e0e0e0;
}

@media (max-width: 1024px) {
    .topWrapper { flex-direction: column; }
    .bonusTable { max-width: 100%; margin: 20px auto 0; }
}

.betRow {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    justify-content: center;
    align-items: flex-end;
    margin-bottom: 30px;
}

.betWrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.betLabel {
    font-weight: bold;
    margin-bottom: 6px;
    color: #ffb347;
}

input[type="number"] {
    padding: 10px 15px;
    border-radius: 12px;
    border: 2px solid #555;
    background: #1a1a1a;
    color: white;
    font-size: 1.1em;
    width: 140px;
    text-align: center;
}

button {
    padding: 12px 28px;
    border: none;
    border-radius: 10px;
    background: #ff4b2b;
    color: white;
    font-weight: bold;
    font-size: 1.1em;
    cursor: pointer;
    transition: 0.2s;
}
button:hover { background: #e03e20; }

.cardsContainer {
    display: flex;
    justify-content: center;
    gap: 14px;
    margin: 15px 0 25px;
    flex-wrap: wrap;
}

.card-container {
    perspective: 1000px;
    width: 90px;
    height: 130px;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.45s ease;
}

.card-container.show {
    opacity: 1;
    transform: translateY(0);
}

.card-flip {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.7s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    transform: rotateY(0deg);
}

.card-flip .front,
.card-flip .back {
    position: absolute;
    inset: 0;
    backface-visibility: hidden;
    border-radius: 14px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.6);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.4rem;
    font-weight: bold;
}

.card-flip .back {
    background: #0d1117;
    color: #ff4b2b;
    transform: rotateY(0deg);
    font-family: "Segoe UI", Arial, sans-serif;
    font-size: 1.9rem;
    text-shadow: 0 0 8px rgba(255,75,43,0.4);
}

.card-flip .front {
    background: linear-gradient(145deg, #f8f9fa, #e9ecef);
    color: #111;
    transform: rotateY(180deg);
}

.card-flip.flipped {
    transform: rotateY(180deg);
}

.card {
    width: 90px;
    height: 130px;
    border-radius: 14px;
    background: linear-gradient(145deg,#f8f9fa,#e9ecef);
    box-shadow: 0 8px 20px rgba(0,0,0,0.5);
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 2.4rem;
    font-weight: bold;
    opacity: 0;
    transform: translateY(20px);
    transition: all 0.45s ease;
}

.card.show { opacity: 1; transform: translateY(0); }

.card.red { color: #c62828; }
.card.black { color: #111; }

#bjGameResult {
    text-align: center;
    font-size: 1.5em;
    font-weight: bold;
    margin: 20px 0;
    min-height: 1.6em;
}

.bottomBalance {
    text-align: center;
    font-size: 1.4em;
    margin-top: 30px;
    padding: 14px;
    background: rgba(31,40,51,0.6);
    border-radius: 12px;
}

.profileModal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    z-index: 2000;
    justify-content: center;
    align-items: center;
}

.profileContent {
    background: #1f2833;
    padding: 30px;
    border-radius: 15px;
    width: 340px;
    max-width: 90%;
    text-align: center;
    position: relative;
    box-shadow: 0 10px 30px rgba(0,0,0,0.7);
}

.profileContent h2 {
    margin-bottom: 24px;
    color: #ffb347;
}

.profileContent p {
    margin: 14px 0;
    font-size: 1.1em;
    display: flex;
    justify-content: space-between;
}

.profileContent .value {
    font-weight: bold;
    color: #e0e0e0;
}

.closeProfile {
    position: absolute;
    top: 12px;
    right: 18px;
    font-size: 28px;
    color: #ff4b2b;
    cursor: pointer;
}

.resetStatsBtn {
    margin-top: 24px;
    padding: 12px 30px;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
}

.resetStatsBtn:hover { background: #1e7e34; }

#addFundsBtn {
    position: fixed;
    right: 15px;
    bottom: 15px;
    padding: 10px 20px;
    background: #28a745;
    color: white;
    border: none;
    border-radius: 10px;
    font-weight: bold;
    cursor: pointer;
}

@media (max-width: 768px) {
    .main-container { flex-direction: column; }
    .sidebar { width: 100%; text-align: center; }
    .sidebar a { display: inline-block; width: auto; margin: 0 8px 12px; }
}
</style>
</head>
<body>

<div class="topBar">
    <div class="balanceDisplay">–ë–∞–ª–∞–Ω—Å: <span id="casinoBalance">10000</span></div>
    <div class="profileTab" onclick="toggleProfile()">–ü—Ä–æ—Ñ–∏–ª—å üìä</div>
</div>

<header>
    <div class="welcome">Reaper<span> Casino</span></div>
</header>

<div class="main-container">
    <div class="sidebar">
        <a href="roulette.html">üé° –†—É–ª–µ—Ç–∫–∞</a>
        <a href="poker.html">üÉè –ü–æ–∫–µ—Ä</a>
        <a href="index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
    </div>

    <div class="topWrapper">
        <div class="game-wrapper">
            <div class="betRow">
                <div class="betWrapper">
                    <div class="betLabel">–û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞</div>
                    <input type="number" id="bjBet" placeholder="–°—Ç–∞–≤–∫–∞" min="1">
                </div>
                <div class="betWrapper">
                    <div class="betLabel">Ultimate Bet</div>
                    <input type="number" id="bjUltimateBet" placeholder="Ultimate" min="0">
                </div>
                <button onclick="startBJ()">–ò–≥—Ä–∞—Ç—å</button>
            </div>

            <div id="deckMessage" style="text-align:center; color:#ffb347; font-weight:bold; margin:10px 0;"></div>

            <h3 style="text-align:center; margin:20px 0 8px;">–í–∞—à–∏ –∫–∞—Ä—Ç—ã <span id="bjPlayerTotal">–°—É–º–º–∞: 0</span></h3>
            <div class="cardsContainer" id="bjPlayerCards"></div>

            <h3 style="text-align:center; margin:30px 0 8px;">–ö–∞—Ä—Ç—ã –¥–∏–ª–µ—Ä–∞ <span id="bjDealerTotal">–°—É–º–º–∞: ?</span></h3>
            <div class="cardsContainer" id="bjDealerCards"></div>

            <div id="bjActionButtons" style="text-align:center; margin:30px 0;"></div>
            <div id="bjGameResult" style="text-align:center; min-height:40px;"></div>

            <div class="bottomBalance">
                –ë–∞–ª–∞–Ω—Å: <span id="casinoBalanceBottom">10000</span>
            </div>
        </div>

        <div class="bonusTable">
            <h3>Ultimate Bonus</h3>
            <table>
                <tr><th>–ö–æ–º–±–∏–Ω–∞—Ü–∏—è</th><th>–í—ã–ø–ª–∞—Ç–∞</th></tr>
                <tr><td>7‚ô¶ 7‚ô¶ + 7‚ô¶ —É –¥–∏–ª–µ—Ä–∞</td><td>1000x</td></tr>
                <tr><td>K‚ô† K‚ô† + BJ –¥–∏–ª–µ—Ä–∞</td><td>1000x</td></tr>
                <tr><td>K‚ô† K‚ô†</td><td>100x</td></tr>
                <tr><td>‚ô†7 ‚ô£7 ‚ô¶7 (—Ä–∞–∑–Ω—ã–µ –º–∞—Å—Ç–∏)</td><td>50x</td></tr>
                <tr><td>KK –æ–¥–Ω–æ–º–∞—Å—Ç–Ω—ã–µ</td><td>30x</td></tr>
                <tr><td>QQ –æ–¥–Ω–æ–º–∞—Å—Ç–Ω—ã–µ</td><td>25x</td></tr>
                <tr><td>JJ –æ–¥–Ω–æ–º–∞—Å—Ç–Ω—ã–µ</td><td>25x</td></tr>
            </table>
        </div>
    </div>
</div>

<div id="profileModal" class="profileModal">
    <div class="profileContent">
        <span class="closeProfile" onclick="toggleProfile()">‚úñ</span>
        <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ Blackjack</h2>
        <p>–í—Å–µ–≥–æ –∏–≥—Ä: <span class="value" id="statGames">0</span></p>
        <p>–í—ã–∏–≥—Ä—ã—à–µ–π: <span class="value" id="statWins">0</span></p>
        <p>–ü—Ä–æ–∏–≥—Ä—ã—à–µ–π: <span class="value" id="statLosses">0</span></p>
        <p>–ù–∏—á—å–∏—Ö: <span class="value" id="statDraws">0</span></p>
        <p>Blackjack: <span class="value" id="statBlackjack">0</span></p>
        <p>–ú–∞–∫—Å. –≤—ã–ø–ª–∞—Ç–∞: <span class="value" id="statMaxWin">0</span></p>
        <p>–õ—É—á—à–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è: <span class="value" id="statBestCombo">-</span></p>
        <button class="resetStatsBtn" onclick="resetStats()">–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</button>
    </div>
</div>

<button id="addFundsBtn">+10000</button>

<script>
let casinoBalance = localStorage.getItem("casinoBalance") 
    ? parseInt(localStorage.getItem("casinoBalance")) 
    : 10000;

let bjDeck = [];
let bjHands = [];
let bjDealer = [];
let gameOver = true;
let dealerRevealed = false;

const suits = ["‚ô†", "‚ô•", "‚ô¶", "‚ô£"];
const ranks = ["2","3","4","5","6","7","8","9","10","J","Q","K","A"];

let stats = localStorage.getItem("stats") 
    ? JSON.parse(localStorage.getItem("stats")) 
    : {
        all: {games:0, wins:0, losses:0, maxWin:0, bestCombo:"-", plus10k:0},
        blackjack: {games:0, wins:0, losses:0, maxWin:0, bestCombo:"-"}
    };

function updateCasinoBalance() {
    document.getElementById("casinoBalance").innerText = casinoBalance;
    document.getElementById("casinoBalanceBottom").innerText = casinoBalance;
    localStorage.setItem("casinoBalance", casinoBalance);
}

function createDeck() {
    let deck = [];
    for(let s of suits) for(let r of ranks) deck.push({rank: r, suit: s});
    return deck.sort(() => Math.random() - 0.5);
}

function deal() {
    if (bjDeck.length < 25) {
        bjDeck = createDeck();
        const msg = document.getElementById("deckMessage");
        msg.innerText = "–ö–æ–ª–æ–¥–∞ –ø–µ—Ä–µ–º–µ—à–∞–Ω–∞!";
        setTimeout(() => msg.innerText = "", 1800);
    }
    return bjDeck.pop();
}

function cardValue(card) {
    if (card.rank === "A") return 11;
    if (["J","Q","K"].includes(card.rank)) return 10;
    return parseInt(card.rank) || 0;
}

function getTotal(cards) {
    let total = 0, aces = 0;
    for (let card of cards) {
        total += cardValue(card);
        if (card.rank === "A") aces++;
    }
    while (total > 21 && aces > 0) { total -= 10; aces--; }
    return total;
}

function clearBoard() {
    document.getElementById("bjPlayerCards").innerHTML = "";
    document.getElementById("bjDealerCards").innerHTML = "";
}

function createCardElement(card, isHidden = false) {
    if (!isHidden) {
        const el = document.createElement("div");
        el.className = `card ${card.suit === "‚ô•" || card.suit === "‚ô¶" ? "red" : "black"}`;
        el.textContent = card.rank + card.suit;
        return el;
    }

    const container = document.createElement("div");
    container.className = "card-container";

    const flipper = document.createElement("div");
    flipper.className = "card-flip";

    const back = document.createElement("div");
    back.className = "back";
    back.innerHTML = "";

    const front = document.createElement("div");
    front.className = `front ${card.suit === "‚ô•" || card.suit === "‚ô¶" ? "red" : "black"}`;
    front.textContent = card.rank + card.suit;

    flipper.appendChild(front);
    flipper.appendChild(back);
    container.appendChild(flipper);

    card.flipElement = flipper;

    return container;
}

async function dealCardToPlayer() {
    const card = deal();
    bjHands[0].cards.push(card);
    const el = createCardElement(card);
    document.getElementById("bjPlayerCards").appendChild(el);
    await new Promise(r => setTimeout(r, 80));
    el.classList.add("show");
    updateTotals();
}

async function dealCardToDealer(hidden = false) {
    const card = deal();
    bjDealer.push(card);

    const el = createCardElement(card, hidden);
    document.getElementById("bjDealerCards").appendChild(el);

    await new Promise(r => setTimeout(r, 100));
    el.classList.add("show");

    updateTotals();
    return card;
}

function updateTotals() {
    document.getElementById("bjPlayerTotal").innerText = `–°—É–º–º–∞: ${getTotal(bjHands[0].cards)}`;

    if (dealerRevealed || gameOver) {
        document.getElementById("bjDealerTotal").innerText = `–°—É–º–º–∞: ${getTotal(bjDealer)}`;
    } else if (bjDealer.length > 0) {
        document.getElementById("bjDealerTotal").innerText = `–°—É–º–º–∞: ${cardValue(bjDealer[0])}`;
    } else {
        document.getElementById("bjDealerTotal").innerText = `–°—É–º–º–∞: ?`;
    }
}

function showButtons() {
    document.getElementById("bjActionButtons").innerHTML = `
        <button onclick="hit()">–í–∑—è—Ç—å</button>
        <button onclick="stand()">–°—Ç–æ–ø</button>
        <button onclick="doubleBet()">–£–¥–≤–æ–∏—Ç—å</button>
    `;
}

async function hit() {
    if (gameOver) return;
    await dealCardToPlayer();
    const total = getTotal(bjHands[0].cards);
    if (total > 21) {
        document.getElementById("bjGameResult").innerText = "‚ùå –ü–µ—Ä–µ–±–æ—Ä!";
        document.getElementById("bjActionButtons").innerHTML = "";
        gameOver = true;
        await revealDealerCards();
        finishRound();
    } else if (total === 21) {
        await stand();
    }
}

async function stand() {
    if (gameOver) return;
    gameOver = true;
    document.getElementById("bjActionButtons").innerHTML = "";
    await revealDealerCards();
    while (getTotal(bjDealer) < 17) {
        await dealCardToDealer(false);
        await new Promise(r => setTimeout(r, 900));
        updateTotals();
    }
    finishRound();
}

async function doubleBet() {
    const hand = bjHands[0];
    if (hand.doubled || gameOver || casinoBalance < hand.bet) {
        if (casinoBalance < hand.bet) alert("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤");
        return;
    }
    casinoBalance -= hand.bet;
    hand.bet *= 2;
    hand.doubled = true;
    updateCasinoBalance();
    document.getElementById("bjActionButtons").innerHTML = "";
    await dealCardToPlayer();
    if (getTotal(hand.cards) <= 21) {
        await stand();
    } else {
        document.getElementById("bjGameResult").innerText = "‚ùå –ü–µ—Ä–µ–±–æ—Ä –ø–æ—Å–ª–µ —É–¥–≤–æ–µ–Ω–∏—è!";
        await revealDealerCards();
        finishRound();
    }
}

async function revealDealerCards() {
    for (let i = 0; i < bjDealer.length; i++) {
        const card = bjDealer[i];
        if (card.flipElement) {
            await new Promise(r => setTimeout(r, 300 + i * 450));
            card.flipElement.classList.add("flipped");
        }
    }
    await new Promise(r => setTimeout(r, 600));
    dealerRevealed = true;
    updateTotals();
}

function finishRound() {
    const hand = bjHands[0];
    const playerTotal = getTotal(hand.cards);
    const dealerTotal = getTotal(bjDealer);
    let win = 0;
    let resultText = "";
    let outcome = "";
    let combo = "-";

    const isBlackjack = hand.cards.length === 2 && playerTotal === 21;

    if (playerTotal > 21) {
        resultText = "–ü–µ—Ä–µ–±–æ—Ä ‚Äî –ø—Ä–æ–∏–≥—Ä—ã—à";
        outcome = "loss";
    } else if (dealerTotal > 21 || playerTotal > dealerTotal) {
        win = hand.bet * (isBlackjack ? 2.5 : 2);
        casinoBalance += win;
        resultText = isBlackjack ? "BLACKJACK! +2.5√ó" : `–í—ã–∏–≥—Ä–∞–Ω–æ ${win}`;
        outcome = isBlackjack ? "blackjack" : "win";
        combo = isBlackjack ? "Blackjack" : "-";
    } else if (playerTotal === dealerTotal) {
        win = hand.bet;
        casinoBalance += win;
        resultText = "–ù–∏—á—å—è ‚Äî –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç–∞–≤–∫–∏";
        outcome = "draw";
    } else {
        resultText = "–ü—Ä–æ–∏–≥—Ä—ã—à";
        outcome = "loss";
    }

    let bonus = 0;
    if (hand.ultimateBet > 0 && hand.cards.length === 2) {
        const c1 = hand.cards[0], c2 = hand.cards[1];
        if (c1.rank === "K" && c2.rank === "K" && c1.suit === "‚ô†" && c2.suit === "‚ô†") {
            bonus = hand.ultimateBet * 100;
            combo = "K‚ô† K‚ô†";
        }
    }
    if (bonus > 0) {
        casinoBalance += bonus;
        resultText += ` + Bonus ${bonus}`;
        win += bonus;
    }

    updateCasinoBalance();

    stats.totalGames++;
    if (outcome === "win" || outcome === "blackjack") stats.wins++;
    else if (outcome === "loss") stats.losses++;
    else stats.draws++;
    if (isBlackjack) stats.blackjack++;
    stats.totalWin += win;

    // –ó–∞–ø–∏—Å—å –≤ –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    if (window.recordGame) {
        window.recordGame("blackjack", outcome, win, combo);
    }

    localStorage.setItem("stats", JSON.stringify(stats));

    document.getElementById("bjGameResult").innerText = resultText;
    document.getElementById("bjActionButtons").innerHTML = `<button onclick="startBJ()">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>`;
}

async function startBJ() {
    const bet = parseInt(document.getElementById("bjBet").value) || 0;
    const ubet = parseInt(document.getElementById("bjUltimateBet").value) || 0;

    if (bet < 1 || bet > casinoBalance) {
        alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ—Å–Ω–æ–≤–Ω—É—é —Å—Ç–∞–≤–∫—É");
        return;
    }
    if (ubet < 0 || (bet + ubet) > casinoBalance) {
        alert("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π Ultimate Bet");
        return;
    }

    casinoBalance -= bet + ubet;
    updateCasinoBalance();

    bjHands = [{cards: [], bet, ultimateBet: ubet, doubled: false}];
    bjDealer = [];
    gameOver = false;
    dealerRevealed = false;

    document.getElementById("bjGameResult").innerText = "";
    document.getElementById("bjActionButtons").innerHTML = "";
    clearBoard();

    await dealCardToPlayer();           await new Promise(r => setTimeout(r, 400));
    await dealCardToDealer(false);      await new Promise(r => setTimeout(r, 400));
    await dealCardToPlayer();           await new Promise(r => setTimeout(r, 400));
    await dealCardToDealer(true);       await new Promise(r => setTimeout(r, 400));

    if (getTotal(bjHands[0].cards) === 21 && bjHands[0].cards.length === 2) {
        await revealDealerCards();
        gameOver = true;
        finishRound();
        return;
    }

    showButtons();
}

function toggleProfile() {
    const modal = document.getElementById("profileModal");
    modal.style.display = modal.style.display === "flex" ? "none" : "flex";
    if (modal.style.display === "flex") {
        document.getElementById("statGames").innerText = stats.totalGames;
        document.getElementById("statWins").innerText = stats.wins;
        document.getElementById("statLosses").innerText = stats.losses;
        document.getElementById("statDraws").innerText = stats.draws;
        document.getElementById("statBlackjack").innerText = stats.blackjack;
        document.getElementById("statMaxWin").innerText = stats.totalWin;
        document.getElementById("statBestCombo").innerText = stats.bestCombo || "-";
    }
}

function resetStats() {
    if (!confirm("–°–±—Ä–æ—Å–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É Blackjack?")) return;
    stats = {totalGames:0, wins:0, losses:0, draws:0, blackjack:0, totalWin:0, bestCombo:"-"};
    localStorage.setItem("stats", JSON.stringify(stats));
    toggleProfile();
}

document.getElementById("addFundsBtn").onclick = () => {
    casinoBalance += 10000;
    updateCasinoBalance();
};

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
bjDeck = createDeck();
updateCasinoBalance();
</script>
</body>
</html>
